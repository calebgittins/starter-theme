// Global

.woocommerce-message,
.woocommerce-error,
.woocommerce-info {
	@extend .message;

	a:not(.button) {
		text-decoration: underline;
	}
}

.woocommerce-error {
	@extend .message--error;
}

.woocommerce-message {
	@extend .message--success;
}

@include min-width(768px) {
	.woocommerce-message {
		display: flex;
		justify-content: space-between;

		.button {
			order: 2;
			flex-shrink: 0;
		}
	}
}

// Shop tables

	.shop_table {
		border: 1px solid $color-light;
	}

// Archive

	// Subheader

	.woocommerce-products-subheader {
		margin-bottom: $space-m;
	}

	@include min-width(768px) {
		.woocommerce-products-subheader {
			display: flex;
			justify-content: space-between;
			align-items: center;
		}

		.woocommerce-ordering {
			min-width: 16rem;
		}
	}

	// Grid

	.products .grid__item {
		padding-bottom: $space-m;
	}

	.columns-2 .grid__item {
		width: 50%;
	}

	.columns-3 .grid__item {
		width: 33.333%;
	}

	.columns-4 .grid__item {
		width: 25%;
	}

	@include tablet {
		.columns-3 .grid__item,
		.columns-4 .grid__item {
			width: 50%;
		}
	}

	@include phone {
		.columns-2 .grid__item,
		.columns-3 .grid__item,
		.columns-4 .grid__item {
			width: 100%;
		}
	}

	// Product

	.woocommerce-loop-product {
		position: relative;
	}

	.woocommerce-loop-product__title {
		@extend .h3;
	}

	.woocommerce-loop-product__link {
		display: block;
		position: relative;
	}

	.onsale {
		position: absolute;
		z-index: 24;
		top: 0;
		left: 0;
		transform: translate(-50%,-50%);
		font-size: 1rem;
		line-height: 4em;
		width: 4em;
		height: 4em;
		border-radius: 1000px;
		text-align: center;
		background-color: $color-success;
		color: $color-white;
		font-weight: 700;
		text-transform: uppercase;
	}

	@include phone {
		.onsale {
			transform: none;
			top: 1em;
			left: 1em;
		}
	}

	.woocommerce-loop-product img {
		margin-bottom: $space-s;
	}

	.woocommerce-loop-product .price {
		display: block;
		margin-bottom: $space-xs;
		color: $color-default;
	}

	// Pagination

	.woocommerce-pagination ul {
		@extend .nav--pagination;
	}

// Single Product

	.product__media {
		position: relative;
	}

	@include min-width(1200px) {
		.product {
			display: flex;
			justify-content: space-between;
			align-items: flex-start;
		}

		.product__media {
			width: 50%;
		}

		.product__content {
			width: 50%;
			padding-left: $space-m;
		}
	}

	// Gallery

	.woocommerce-product-gallery {
		position: relative;

		img {
			width: 100%;
			height: auto;
		}
	}

	.woocommerce-product-gallery__trigger {
		position: absolute;
		z-index: 4;
		top: $space-xs;
		right: $space-xs;
	}

	.flex-control-thumbs {
		display: flex;
		margin-top: 1rem;
		margin-left: -1rem;

		li {
			cursor: pointer;
			width: 50%;
			padding-left: 1rem;
		}

		img {
			opacity: .5;
		}

		.flex-active {
			opacity: 1;
		}
	}

	.woocommerce-product-gallery--columns-3 .flex-control-thumbs li {
		width: 33.333%;
	}

	.woocommerce-product-gallery--columns-4 .flex-control-thumbs li {
		width: 25%;
	}

	// Content

	.product_title {
		@extend .h2;
	}

	.product__content .price {
		font-size: 1.5rem;
		line-height: 1.13em;
		margin-bottom: $space-xs;
	}

	.woocommerce-product-details__short-description {
		margin-bottom: $space-s;
	}

	// Quantity + button

	.product .cart {
		display: flex;
		flex-direction: column;
	}

	.product .single_add_to_cart_button {
		margin-left: 0;
		align-self: flex-start;
	}

	.quantity {
		display: flex;
		align-self: flex-start;
		margin-bottom: 1em;
	}

	.single_variation_wrap {
		align-self: flex-start;
	}

	// Variations

	.variations {
		margin-bottom: $space-s;
	}

	.variations td {
		padding: 0 0 $space-xs 0;
	}

	.woocommerce-variation-add-to-cart {
		display: flex;
		flex-direction: row;

		.quantity {
			align-self: flex-start;
			margin-bottom: 1em;
			margin-right: 1em;
		}

		.single_add_to_cart_button {
			margin-left: 0;
		}
	}

	.reset_variations {
		display: block;		
		margin-top: $space-xs;
	}

	.woocommerce-variation-price {
		margin: $space-s 0;
	}
	
	// Grouped Product
		.woocommerce-grouped-product-list {
			.product {
				margin-bottom: 0;
			}
		}

	table.variations {
		th, td {
			border-bottom: none;
		}
	}

	.quantity input[type="number"] {
		text-align: center;
		width: auto;
	}

	.quantity input::-webkit-outer-spin-button,
	.quantity input::-webkit-inner-spin-button {
	    -webkit-appearance: none;
	    margin: 0;
	}

	.quantity input[type="number"] {
	    -moz-appearance:textfield;
	}

// Related

	.related {
		margin-top: $space-l;
	}

// Cart

	.product-remove {
		text-align: center;
	}

	.product-remove .remove {
		font-weight: 400;
		text-decoration: none;
		color: $color-error;
		font-size: 1.75rem;
		line-height: 1em;
	}

	.product-thumbnail img {
		max-width: 60px;
		height: auto;
	}

	.coupon {
		display: flex;
		max-width: 25rem;

		button {
			flex-shrink: 0;
		}
	}

	.cart-collaterals {
		margin-top: $space-m;
	}

	.cart_totals h2 {
		@extend .h3;
	}

	.cart_totals .shop_table {
		margin-bottom: $space-s;
	}

	.shop_table .woocommerce-shipping-methods,
	.shop_table .woocommerce-shipping-destination {
		margin-bottom: $space-xs;
	}

	.shipping-calculator-button {
		text-decoration: underline;
	}

	.shipping-calculator-form p + p  {
		margin-top: .5rem;
	}

	@include min-width(768px) {
		.cart__actions {
			display: flex;
			justify-content: space-between;
		}

		.cart-collaterals {
			display: flex;
			justify-content: flex-end;
		}

		.cart_totals {
			width: 50%;
		}

		.wc-proceed-to-checkout {
			display: flex;
			justify-content: flex-end;
		}
	}

// Checkout

	.form-row {
		padding-bottom: 1em;
	}

	@include min-width(1024px) {

		.woocommerce-billing-fields__field-wrapper,
		.woocommerce-shipping-fields__field-wrapper {
			display: flex;
			flex-wrap: wrap;
			margin-left: -1em;

			.form-row {
				width: 100%;
				padding-left: 1em;
			}

			.form-row-first,
			.form-row-last {
				width: 50%;
			}

			.form-row-third {
				width: 33.333%;
			}

		}

	}

// Order Confirmation

// Account

// Store Notice

	.woocommerce-store-notice {
		position: fixed;
		z-index: 1280;
		top: 0;
		left: 0;
		right: 0;
		background-color: $color-primary;
		@extend .is-dark;
		text-align: center;
		padding: $space-xs 0;

		a {
			text-decoration: underline;
		}
	}

// Dynamic Cart

	.dynamic-cart {
		display: block;
		position: relative;
	}

	.dynamic-cart__count {
		position: absolute;
		top: -1em;
		right: -1em;
		width: 1.5em;
		height: 1.5em;
		font-size: 0.88rem;
		line-height: 1.5em;
		background-color: $color-primary;
		color: $color-white;	
		border-radius: 100px;
		text-align: center;
	}

// Cart - Shipping calculator

.cart-collaterals .shipping-calculator-form {
	margin-top: $space-s;
}

// Select2

body {

	.select2-container,
	.select-2-container .selection {
		display: block;
	}

	.select2-container--default .select2-selection--single {
		border-color: $color-light;
		border-radius: 0;
		display: block;
		height: auto;
	}

	.select2-container--default .select2-selection--single .select2-selection__rendered {
		color: $color-default;
		line-height: 1.38em;
		padding: .75em 3em .75em 0.94em;
	}

	.select2-container--default .select2-selection--single .select2-selection__arrow {
		height: auto;
		width: auto;
		top: 50%;
		right: 1rem;
		transform: translateY(-50%);
		font-size: 1.56rem;
		line-height: 1em;

		b {
			display: none;
		}

		&:before {
			content: '\f078';
			font-family: $font-icon;
			text-transform: none;			
			font-weight: 400;
			color: $color-default;
		}
	}

	.select2-dropdown {
		border-color: $color-light;
		border-radius: 0;
	}

	.select2-search--dropdown {
		padding: 1em;
		position: relative;

		&:before {
			content: "\f002";
			font-family: $font-icon;
			position: absolute;
			top: 50%;
			right: 2em;
			transform: translateY(-50%);
		}
	}

	.select2-results__option {
		padding: .75em 0.94em;
		border-top: 1px solid $color-light;
	}

	.select2-container--default .select2-results__option[aria-selected="true"], 
	.select2-container--default .select2-results__option[data-selected="true"] {
		background-color: $color-white;
		color: $color-primary;
	}

	.select2-container--default .select2-results__option--highlighted[aria-selected], 
	.select2-container--default .select2-results__option--highlighted[data-selected] {
		background-color: $color-primary;
		color: $color-white;
	}


}

// Checkout

	.checkout_coupon {
		margin-bottom: $space-s;

		p {
			margin-bottom: 1.5em;
		}
	}

	#ship-to-different-address {
		margin-bottom: $space-s;
	}

	.woocommerce-checkout-review-order-table,
	.wc_payment_methods,
	.woocommerce-terms-and-conditions-wrapper {
		margin-bottom: $space-s;
	}

	.woocommerce-privacy-policy-text {
		margin-bottom: $space-xs;
	}

	.checkout_coupon {
		margin-bottom: $space-s;

		p {
			margin-bottom: 1.5em;
		}
	}